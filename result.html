<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result</title>
    <link rel="stylesheet" href="style.css">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // let NextBtn=document.getElementById("next_btn");

            // NextBtn.addEventListener('click', () => {
            //     window.location.href="index.html";
            // })
            let MacaronOrNot = document.getElementById("macaron_or_not");
            let ResultUserName = localStorage.getItem("NameOfUser");
            document.getElementById("result_user_name").innerHTML = ResultUserName;

            let result_point = 0;

            let correct_answers = ["④", "①", "③", "②", "①", "①", "③", "④", "③", "④"]

            for (let i = 1; i <= 10; i++) {
                const answerElement = document.getElementById(`your_answers${i}`);
                if (answerElement) {
                    let answer = localStorage.getItem(`option${i}_answer`) || "未回答";
                    if (answer == correct_answers[i - 1]) {
                        result_point += 10
                    }
                    else {
                        answerElement.style.color = "red";
                    }
                    answerElement.innerHTML = answer;
                    document.getElementById("result").innerHTML = result_point;
                } else {
                    console.warn(`Element with ID "your_answers${i}" not found.`);
                }
            }
            if(result_point>=80){
                MacaronOrNot.src="macaron_get.png"
            }
            else{
                MacaronOrNot.src="try_again.png"
            }


        });
        // const QUIZ_ATTEMPTS_KEY = "quizAttempts";

        // // 最大試行回数
        // const MAX_ATTEMPTS = 2;

        // // クイズ回数を取得
        // let attempts = localStorage.getItem(QUIZ_ATTEMPTS_KEY) || 0;

        // // ページ読み込み時のチェック
        // document.addEventListener("DOMContentLoaded", () => {
        //     if (attempts >= MAX_ATTEMPTS) {
        //         // 制限を超えた場合
        //         document.getElementById("message").innerText = "You have reached the maximum number of attempts.";
        //         document.getElementById("quiz").style.display = "none";
        //     }
        // });
    </script>

        <!-- <script>
            document.addEventListener('DOMContentLoaded',async () => {

        
        const userName = getItem.localStorage("NameOfUser");
        const Answer1 = getItem.localStorage("option1_answer");
        const Answer2 = getItem.localStorage("option2_answer");
        const Answer3 = getItem.localStorage("option3_answer");
        const Answer4 = getItem.localStorage("option4_answer");
        const Answer5 = getItem.localStorage("option5_answer");
        const Answer6 = getItem.localStorage("option6_answer");
        const Answer7 = getItem.localStorage("option7_answer");
        const Answer8 = getItem.localStorage("option8_answer");
        const Answer9 = getItem.localStorage("option9_answer");
        const Answer10 = getItem.localStorage("option10_answer");

        if (!userName) {
            alert("名前を入力してください！");
            return;
        }

        try {
            const response = await fetch("http://localhost:3000/save-name", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ name: userName,answer1:Answer1,answer2:Answer2,answer3:Answer3,answer4:Answer4,answer5:Answer5,answer6:Answer6,answer7:Answer7,answer8:Answer8,answer9:Answer9,answer10:Answer10}),
            });
            console.log("ok")

            if (response.ok) {
                alert("ok！");
            } else {
                alert("エラーが発生しました。");
            }
        } catch (error) {
            console.error("エラー:", error);
        }
    }); -->

</script>
</head>

<body>
    <header>
        <div class="menu">
            <img src="" id="banana_all">
            <img src="" id="banana_off">
            <div id="menu_list">
                <li>
                    <a href="index.html">
                        <p>ホーム</p>
                    </a>

                </li>
            </div>
        </div>
    </header>
        <div class="result_img"><img src="" id="macaron_or_not"></div>
    <div class="result_area">

        <h1>結果</h1>
        <div>
            <h2 class="result_text"><span id="result_user_name"></span>さんの点数は</h2>
            <h1 id="result"></h1>
            <h2 class="base_point">点/１００点中です</h2>
        </div>
        <h4>※80点以上でマカロンGET!</h4>
        <h4>※この画面をスクリーンショットして、マカロン交換所で見せて下さい</h4>
    </div>

    <div class="answers_detail">
        <h1>答え合わせ</h1>
        <p class="detail_color">Q.1　児童労働の原因は以下の選択肢のどれが当てはまりますか？</p>
        <p>あなたの答え:<span id="your_answers1" class="result_your_answer"></span></p>
        <p>正しい答え:④上記すべて</p>
        <p>児童労働には様々な原因あり、これらが子供たちの教育や健全な成長の機会を奪っています。<br><br>ex)金鉱山の小さな穴に入りやすいから子供が使われている<br>・インドのラジャスターン地方では伝統として、子供たちが手織りのじゅうたん作りを学び商売をする
        </p>
        <br><br>
        <p class="detail_color">Q.2　児童労働が一番多く見られる業界はどれですか？</p>
        <p>あなたの答え:<span id="your_answers2" class="result_your_answer"></span></p>
        <p>正しい答え:①農業</p>
        <p>世界で最も多い児童労働は農業分野で、全体の<span>約70％</span>を占めます。<br>農場での労働は過酷で危険を伴うことが多く、子供の健康に大きな影響を与えます。</p>
        <br><br>
        <p class="detail_color">Q.3　ILOが定めた国際労働基準では何歳以上から労働をすることができるか</p>
        <p>あなたの答え:<span id="your_answers3" class="result_your_answer"></span></p>
        <p>正しい答え:③15歳以上</p>
        <p>国際労働機関（ILO）は、基本的に<span>15歳以上</span>を最低労働年齢としています。<br>ただし、経済が未発達な国では14歳に引き下げられる場合があります。<br>これは子供の健康や教育を守るための基準です。
        </p>
        <br><br>
        <p class="detail_color">Q.4　フェアトレードとは何ですか？</p>
        <p>あなたの答え:<span id="your_answers4" class="result_your_answer"></span></p>
        <p>正しい答え:②生産者に公正な価格を支払い、労働条件を守ること</p>
        <p>フェアトレードは、貧困地域の生産者に<span>公正な取引条件</span>を提供し、<span>生活改善を支援する仕組み</span>です。</p>
        <br><br>
        <p class="detail_color">Q.5　不公正取引の問題を解決するために最も重要なのは何ですか？</p>
        <p>あなたの答え:<span id="your_answers5" class="result_your_answer"></span></p>
        <p>正しい答え:①取引の透明性を確保する</p>
        <p>透明性が高まることで価格設定や契約内容が明確になり、不正やズルができなくなります。<br>すべての関係者が監視できる状況を作り、倫理的な取引を行うことが大事です。</p>
        <br><br>
        <p class="detail_color">Q.6　「サプライチェーン」において、フェアトレードが最も重要視しているのは何ですか？</p>
        <p>あなたの答え:<span id="your_answers6" class="result_your_answer"></span></p>
        <p>正しい答え:①生産者の労働環境とその公正さ</p>
        <p>フェアトレードは、生産者の労働環境の改善や公正な待遇を重視します。</p>
        <br><br>
        <p class="detail_color">Q.7　フェアトレードの「プレミアム（Premium）」は、どのように使われることが多いですか？</p>
        <p>あなたの答え:<span id="your_answers7" class="result_your_answer"></span></p>
        <p>正しい答え:③地域社会の教育や医療、インフラの改善</p>
        <p>フェアトレードプレミアムは、地域の生活水準を向上させるために使用されます。<br>例えば<span>学校建設や医療施設の整備など</span>に役立てられます。</p>
        <br><br>
        <p class="detail_color">Q.8　フェアトレード認証を受けた農園で働く労働者の賃金について、最も適切なのはどれですか？</p>
        <p>あなたの答え:<span id="your_answers8" class="result_your_answer"></span></p>
        <p>正しい答え:④一定の基準に基づいて、社会的に認められた賃金が支払われる</p>
        <p>フェアトレード認証農園では、労働者に適正な賃金が保証され、<span>法的基準や国際基準</span>に基づいて支払われます。<br>これにより、持続可能な生活が支援されています。</p>
        <br><br>
        <p class="detail_color">Q.9　児童労働撲滅を目標としたアクセル・アフリカ・プロジェクトにおいて対象とされていない商品は何ですか？</p>
        <p>あなたの答え:<span id="your_answers9" class="result_your_answer"></span></p>
        <p>正しい答え:③たばこ</p>
        <p>アクセル・アフリカ・プロジェクトは、児童労働が多い<span>金、カカオ、綿花産業</span>を対象としています(他にもコーヒーやや紅茶など)。<br>これらの産業は、低賃金や過酷な労働環境で子供が働かざるを得ない状況が多く見られます。
        </p>
        <br><br>
        <p class="detail_color">Q.10　国際フェアトレード認証ラベルは黄緑色(黄色)と何色が使われていますか？</p>
        <p>あなたの答え:<span id="your_answers10" class="result_your_answer"></span></p>
        <p>正しい答え:④青</p>
        <p>青色は「未来への可能性」を表す青空、黄緑色は「成長や広がり」を表します。<br>(情報色々ドットコム(2019)から引用)</p>
        <img src="Fairtrade mark.jpg" width="100px">





        </p>





    </div>

    <!-- <div class="result_operation">
        <div id="next_btn"><img src="next_banana(1).png" class="result_next_banana_img"></div>
    </div> -->
    <script src="script.js"></script>
</body>

</html>